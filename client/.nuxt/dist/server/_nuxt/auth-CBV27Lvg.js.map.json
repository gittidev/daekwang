{"file":"auth-CBV27Lvg.js","mappings":";;;;;;;;;;;;;;;;AAGA,MAAA,OAAe,0BAA0B,CAAC,OAAO;AAE3B;AAYtB,CAAC;","names":[],"sources":["../../../../middleware/auth.ts"],"sourcesContent":["// middleware/auth.global.ts\r\nimport { useCookie, navigateTo, defineNuxtRouteMiddleware } from \"nuxt/app\";\r\n\r\nexport default defineNuxtRouteMiddleware((to) => {\r\n  // 클라이언트에서만 실행\r\n  if (process.server) return;\r\n\r\n  // 쿠키명은 실제 사용 중인 키로\r\n  const token = useCookie(\"admin_token\").value;\r\n\r\n  // 로그인 페이지는 패스\r\n  if (to.path === \"/admin\") return;\r\n\r\n  // /admin/** 진입 시 토큰 없으면 로그인으로 리다이렉트\r\n  if (to.path.startsWith(\"/admin\") && !token) {\r\n    return navigateTo(\"/admin\");\r\n  }\r\n});\r\n"],"version":3}